<!DOCTYPE html>
<html xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:utils="http://java.sun.com/jsf/composite/utils"
	xmlns:sec="http://www.springframework.org/security/tags"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<link href="resources/styles/main.css" rel="stylesheet" type="text/css" />
</h:head>

<h:body>
	<f:view locale="#{language.localeCode}" />
	<div id="container">
		<div id="header">
			<ui:insert name="header">
				<ui:include src="/header.xhtml">
					<ui:param name="title" value="#{msg.passwordChanges}" />
				</ui:include>
			</ui:insert>
		</div>

		<div id="content">
			<h:form id="formid">
				<p:growl id="growl" />
				<h:panelGrid id="pnlChangePassword" columns="2" cellspacing="30"
					border="0" title="Universitario"
					rendered="#{request.isUserInRole('ROLE_ADMIN')}">
					<h:outputText value="#{msg.username}:" />
					<h:inputText id="username" value="#{passwordBean.username}"
						required="true" requiredMessage="#{msg.rmusername}" />
					<h:outputText value="#{msg.newPassword}:" />
					<h:inputSecret id="newPassword" required="true"
						value="#{passwordBean.newPassword}"
						requiredMessage="#{msg.rmnpassword}"
						converterMessage="#{msg.vmpassword}" />
					<h:outputText value="#{msg.confirmPassword}:" />
					<h:inputSecret id="confirmPassword" required="true"
						value="#{passwordBean.confirmPassword}"
						requiredMessage="#{msg.rmcpassword}"
						converterMessage="#{msg.vmpassword}" />
					<h:commandButton actionListener="#{passwordBean.doReset}"
						update="growl" value="#{msg.changePassword}" />
					<f:ajax>
						<h:commandButton action="/admin.xhtml?faces-redirect=true"
							value="#{msg.cancel}" />
					</f:ajax>
				</h:panelGrid>
			</h:form>
		</div>

		<div id="footer">
			<ui:insert name="footer">
				<ui:include src="/footer.xhtml" />
			</ui:insert>
		</div>
	</div>
</h:body>
</html>