<!DOCTYPE html>
<html xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:utils="http://java.sun.com/jsf/composite/utils"
	xmlns:sec="http://www.springframework.org/security/tags"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<link href="resources/styles/main.css" rel="stylesheet" type="text/css" />
</h:head>

<h:body>
	<div id="header">
		<h:outputText value="Password Changes" />
	</div>

	<div id="content">
		<h:form id="formid">
		 <p:growl id="growl"/>  
			<h:panelGrid id="pnlChangePassword" columns="2" cellspacing="30"
				border="0" title="Universitario"
				rendered="#{request.isUserInRole('ROLE_ADMIN')}">
				<h:outputText value="username:" />
				<h:inputText id="username" value="#{passwordBean.username}"
					required="true" requiredMessage="username is required" />
				<h:outputText value="Password:" />
				<h:inputSecret id="password" required="true"
					value="#{passwordBean.password}" requiredMessage="password is required"
					converterMessage="not a valid password" />
				<h:outputText value="New Password:" />
				<h:inputSecret id="newPassword" required="true"
					value="#{passwordBean.newPassword}" requiredMessage="newpassword is required"
					converterMessage="not a valid password" />
				<h:outputText value="Confirm Password:" />
				<h:inputSecret id="confirmPassword" required="true"
					value="#{passwordBean.confirmPassword}" requiredMessage="confirm is required"
					converterMessage="not a valid password" />
				<h:commandButton actionListener="#{passwordBean.doChange}" update="growl"
					value="Change Password" />
				<f:ajax>
					<h:commandButton action="/index.xhtml?faces-redirect=true"
						value="Cancel" />
				</f:ajax>
			</h:panelGrid>
		</h:form>
	</div>

	<div id="footer">
		<ui:insert name="footer">
			<ui:include src="/footer.xhtml" />
		</ui:insert>
	</div>
</h:body>
</html>